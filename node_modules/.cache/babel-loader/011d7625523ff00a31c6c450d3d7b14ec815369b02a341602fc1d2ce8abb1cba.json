{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Manohar\\\\Desktop\\\\rewards-calculator\\\\rewards-calculator\\\\src\\\\RewardsCalculator.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport RewardsDisplay from './RewardsDisplay';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RewardsCalculator = () => {\n  _s();\n  const [transactions, setTransactions] = useState('');\n  const [rewards, setRewards] = useState({});\n  const handleInputChange = useCallback(e => {\n    const {\n      value\n    } = e.target;\n    setTransactions(value);\n  }, []);\n  const calculateRewards = useCallback(transactions => {\n    const rewards = {};\n    transactions.forEach(({\n      customer,\n      amount,\n      date\n    }) => {\n      const month = new Date(date).getMonth() + 1; // getMonth() is zero-based\n      const points = calculatePoints(amount);\n      if (!rewards[customer]) {\n        rewards[customer] = {\n          monthly: {},\n          total: 0\n        };\n      }\n      if (!rewards[customer].monthly[month]) {\n        rewards[customer].monthly[month] = 0;\n      }\n      rewards[customer].monthly[month] += points;\n      rewards[customer].total += points;\n    });\n    return rewards;\n  }, []);\n  const handleCalculate = useCallback(() => {\n    try {\n      const parsedTransactions = JSON.parse(transactions);\n      const calculatedRewards = calculateRewards(parsedTransactions);\n      setRewards(calculatedRewards);\n    } catch (error) {\n      console.error(\"Invalid JSON input:\", error);\n      alert(\"Invalid JSON input. Please check your format.\");\n    }\n  }, [transactions, calculateRewards]);\n  const calculatePoints = amount => {\n    let points = 0;\n    if (amount > 100) {\n      points += (amount - 100) * 2;\n      amount = 100;\n    }\n    if (amount > 50) {\n      points += (amount - 50) * 1;\n    }\n    return points;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Rewards Calculator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      name: \"transactions\",\n      rows: \"10\",\n      cols: \"50\",\n      value: transactions,\n      onChange: handleInputChange,\n      placeholder: \"Enter transactions as JSON: [{\\\"customer\\\": \\\"John\\\", \\\"amount\\\": 120, \\\"date\\\": \\\"2024-05-15\\\"}, ...]\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleCalculate,\n      children: \"Calculate Rewards\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(RewardsDisplay, {\n      rewards: rewards\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 7\n  }, this);\n};\n_s(RewardsCalculator, \"DgTuPFEonR6MlG68XYfiEw4qeGI=\");\n_c = RewardsCalculator;\nexport default RewardsCalculator;\nvar _c;\n$RefreshReg$(_c, \"RewardsCalculator\");","map":{"version":3,"names":["React","useState","useCallback","RewardsDisplay","jsxDEV","_jsxDEV","RewardsCalculator","_s","transactions","setTransactions","rewards","setRewards","handleInputChange","e","value","target","calculateRewards","forEach","customer","amount","date","month","Date","getMonth","points","calculatePoints","monthly","total","handleCalculate","parsedTransactions","JSON","parse","calculatedRewards","error","console","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","name","rows","cols","onChange","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Manohar/Desktop/rewards-calculator/rewards-calculator/src/RewardsCalculator.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport RewardsDisplay from './RewardsDisplay';\n\nconst RewardsCalculator = () => {\n    const [transactions, setTransactions] = useState('');\n    const [rewards, setRewards] = useState({});\n  \n    const handleInputChange = useCallback((e) => {\n      const { value } = e.target;\n      setTransactions(value);\n    }, []);\n\n    const calculateRewards = useCallback((transactions) => {\n        const rewards = {};\n    \n        transactions.forEach(({ customer, amount, date }) => {\n        const month = new Date(date).getMonth() + 1; // getMonth() is zero-based\n        const points = calculatePoints(amount);\n    \n        if (!rewards[customer]) {\n            rewards[customer] = { monthly: {}, total: 0 };\n        }\n    \n        if (!rewards[customer].monthly[month]) {\n            rewards[customer].monthly[month] = 0;\n        }\n    \n        rewards[customer].monthly[month] += points;\n        rewards[customer].total += points;\n        });\n    \n        return rewards;\n    }, []);\n  \n    const handleCalculate = useCallback(() => {\n      try {\n        const parsedTransactions = JSON.parse(transactions);\n        const calculatedRewards = calculateRewards(parsedTransactions);\n        setRewards(calculatedRewards);\n      } catch (error) {\n        console.error(\"Invalid JSON input:\", error);\n        alert(\"Invalid JSON input. Please check your format.\");\n      }\n    }, [transactions, calculateRewards]);\n\n    const calculatePoints = (amount) => {\n        let points = 0;\n        if (amount > 100) {\n        points += (amount - 100) * 2;\n        amount = 100;\n        }\n        if (amount > 50) {\n        points += (amount - 50) * 1;\n        }\n        return points;\n    };\n  \n    return (\n      <div>\n        <h1>Rewards Calculator</h1>\n        <textarea\n          name=\"transactions\"\n          rows=\"10\"\n          cols=\"50\"\n          value={transactions}\n          onChange={handleInputChange}\n          placeholder='Enter transactions as JSON: [{\"customer\": \"John\", \"amount\": 120, \"date\": \"2024-05-15\"}, ...]'\n        ></textarea>\n        <br />\n        <button onClick={handleCalculate}>Calculate Rewards</button>\n        <RewardsDisplay rewards={rewards} />\n      </div>\n    );\n  };\n\n  export default RewardsCalculator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}